{"version":3,"file":"utility-647ad232.cjs.js","sources":["../../src/lib/utility.ts"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  RemoteProtocol,\n  ParsedLocationAnnotation,\n} from '@backstage/plugin-techdocs-node';\nimport * as winston from 'winston';\n\nexport const convertTechDocsRefToLocationAnnotation = (\n  techdocsRef: string,\n): ParsedLocationAnnotation => {\n  // Split on the first colon for the protocol and the rest after the first split\n  // is the location.\n  const [type, target] = techdocsRef.split(/:(.+)/) as [\n    RemoteProtocol?,\n    string?,\n  ];\n\n  if (!type || !target) {\n    throw new Error(\n      `Can not parse --techdocs-ref ${techdocsRef}. Should be of type HOST:URL.`,\n    );\n  }\n\n  return { type, target };\n};\n\nexport const createLogger = ({\n  verbose = false,\n}: {\n  verbose: boolean;\n}): winston.Logger => {\n  const logger = winston.createLogger({\n    level: verbose ? 'verbose' : 'info',\n    transports: [\n      new winston.transports.Console({ format: winston.format.simple() }),\n    ],\n  });\n\n  return logger;\n};\n"],"names":["winston"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAqBa,MAAA,sCAAA,GAAyC,CACpD,WAC6B,KAAA;AAG7B,EAAA,MAAM,CAAC,IAAM,EAAA,MAAM,CAAI,GAAA,WAAA,CAAY,MAAM,OAAO,CAAA,CAAA;AAKhD,EAAI,IAAA,CAAC,IAAQ,IAAA,CAAC,MAAQ,EAAA;AACpB,IAAA,MAAM,IAAI,KAAA;AAAA,MACR,CAAgC,6BAAA,EAAA,WAAA,CAAA,6BAAA,CAAA;AAAA,KAClC,CAAA;AAAA,GACF;AAEA,EAAO,OAAA,EAAE,MAAM,MAAO,EAAA,CAAA;AACxB,EAAA;AAEO,MAAM,eAAe,CAAC;AAAA,EAC3B,OAAU,GAAA,KAAA;AACZ,CAEsB,KAAA;AACpB,EAAM,MAAA,MAAA,GAASA,mBAAQ,YAAa,CAAA;AAAA,IAClC,KAAA,EAAO,UAAU,SAAY,GAAA,MAAA;AAAA,IAC7B,UAAY,EAAA;AAAA,MACV,IAAIA,kBAAQ,CAAA,UAAA,CAAW,OAAQ,CAAA,EAAE,QAAQA,kBAAQ,CAAA,MAAA,CAAO,MAAO,EAAA,EAAG,CAAA;AAAA,KACpE;AAAA,GACD,CAAA,CAAA;AAED,EAAO,OAAA,MAAA,CAAA;AACT;;;;;"}