{"version":3,"sources":["webpack://techdocs-cli-embedded-app/../../plugins/catalog/src/components/RelatedEntitiesCard/RelatedEntitiesCard.tsx","webpack://techdocs-cli-embedded-app/../../plugins/catalog/src/components/RelatedEntitiesCard/presets.ts"],"names":["RelatedEntitiesCard","props","variant","title","columns","entityKind","relationType","emptyMessage","emptyHelpLink","asRenderableEntities","entity","useEntity","entities","loading","error","useRelatedEntities","type","kind","InfoCard","Progress","ResponseErrorPanel","EntityTable","emptyContent","div","style","textAlign","Typography","Link","to","componentEntityColumns","defaultKind","componentEntityHelpLink","asComponentEntities","resourceEntityColumns","resourceEntityHelpLink","asResourceEntities","systemEntityColumns","systemEntityHelpLink","asSystemEntities"],"mappings":"6nBAyDO,SAASA,EACdC,EACA,CACA,KAAM,CACJC,UAAU,WACVC,QACAC,UACAC,aACAC,eACAC,eACAC,gBACAC,sBAAoB,EAClBR,EAEE,CAAES,QAAO,G,EAAIC,MAAU,EACvB,CAAEC,WAAUC,UAASC,OAAM,G,EAAIC,MAAmBL,EAAQ,CAC9DM,KAAMV,EACNW,KAAMZ,CACR,CAAC,EAED,OAAIQ,G,EAEA,OAACK,KAAQA,CAAChB,QAASA,EAASC,MAAOA,E,YACjC,OAACgB,KAAQA,G,GAKXL,G,EAEA,OAACI,KAAQA,CAAChB,QAASA,EAASC,MAAOA,E,YACjC,OAACiB,KAAkBA,CAACN,MAAOA,C,QAM/B,OAACO,KAAWA,CACVlB,MAAOA,EACPD,QAASA,EACToB,c,EACE,QAACC,OAAIC,MAAO,CAAEC,UAAW,QAAS,E,aAChC,OAACC,IAAUA,CAACxB,QAAQ,Q,SAASK,C,MAC7B,OAACmB,IAAUA,CAACxB,QAAQ,Q,YAClB,OAACyB,KAAIA,CAACC,GAAIpB,E,SAAe,2B,QAI/BJ,QAASA,EACTQ,SAAUH,EAAqBG,GAAY,CAAC,CAAC,C,EAGnD,CCrFO,MAAMiB,EAAyD,CACpER,mCAA0C,CAAES,YAAa,WAAY,CAAC,EACtET,+BAAsC,EACtCA,kCAAyC,EACzCA,uCAA8C,EAC9CA,6CAAoD,C,EAEzCU,EACX,uFACWC,EAAuBpB,GAClCA,EAEWqB,EAAuD,CAClEZ,mCAA0C,CAAES,YAAa,UAAW,CAAC,EACrET,+BAAsC,EACtCA,kCAAyC,EACzCA,uCAA8C,EAC9CA,6CAAoD,C,EAEzCa,EACX,sFACWC,EAAsBvB,GACjCA,EAEWwB,EAAmD,CAC9Df,mCAA0C,CAAES,YAAa,QAAS,CAAC,EACnET,+BAAsC,EACtCA,6CAAoD,C,EAEzCgB,EACX,oFACWC,EAAoB1B,GAC/BA,C","file":"static/732.dc28074b.chunk.js","sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Entity } from '@backstage/catalog-model';\nimport { Typography } from '@material-ui/core';\nimport {\n  EntityTable,\n  useEntity,\n  useRelatedEntities,\n} from '@backstage/plugin-catalog-react';\nimport React from 'react';\nimport {\n  InfoCard,\n  InfoCardVariants,\n  Link,\n  Progress,\n  ResponseErrorPanel,\n  TableColumn,\n} from '@backstage/core-components';\n\n/** @public */\nexport type RelatedEntitiesCardProps<T extends Entity> = {\n  variant?: InfoCardVariants;\n  title: string;\n  columns: TableColumn<T>[];\n  entityKind?: string;\n  relationType: string;\n  emptyMessage: string;\n  emptyHelpLink: string;\n  asRenderableEntities: (entities: Entity[]) => T[];\n};\n\n/**\n * A low level card component that can be used as a building block for more\n * specific cards.\n *\n * @remarks\n *\n * You probably want to make a dedicated component for your needs, which renders\n * this card as its implementation with some of the props set to the appropriate\n * values.\n *\n * @public\n */\nexport function RelatedEntitiesCard<T extends Entity>(\n  props: RelatedEntitiesCardProps<T>,\n) {\n  const {\n    variant = 'gridItem',\n    title,\n    columns,\n    entityKind,\n    relationType,\n    emptyMessage,\n    emptyHelpLink,\n    asRenderableEntities,\n  } = props;\n\n  const { entity } = useEntity();\n  const { entities, loading, error } = useRelatedEntities(entity, {\n    type: relationType,\n    kind: entityKind,\n  });\n\n  if (loading) {\n    return (\n      <InfoCard variant={variant} title={title}>\n        <Progress />\n      </InfoCard>\n    );\n  }\n\n  if (error) {\n    return (\n      <InfoCard variant={variant} title={title}>\n        <ResponseErrorPanel error={error} />\n      </InfoCard>\n    );\n  }\n\n  return (\n    <EntityTable\n      title={title}\n      variant={variant}\n      emptyContent={\n        <div style={{ textAlign: 'center' }}>\n          <Typography variant=\"body1\">{emptyMessage}</Typography>\n          <Typography variant=\"body2\">\n            <Link to={emptyHelpLink}>Learn how to change this.</Link>\n          </Typography>\n        </div>\n      }\n      columns={columns}\n      entities={asRenderableEntities(entities || [])}\n    />\n  );\n}\n","/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  ComponentEntity,\n  Entity,\n  ResourceEntity,\n  SystemEntity,\n} from '@backstage/catalog-model';\nimport { EntityTable } from '@backstage/plugin-catalog-react';\nimport { TableColumn } from '@backstage/core-components';\n\nexport const componentEntityColumns: TableColumn<ComponentEntity>[] = [\n  EntityTable.columns.createEntityRefColumn({ defaultKind: 'component' }),\n  EntityTable.columns.createOwnerColumn(),\n  EntityTable.columns.createSpecTypeColumn(),\n  EntityTable.columns.createSpecLifecycleColumn(),\n  EntityTable.columns.createMetadataDescriptionColumn(),\n];\nexport const componentEntityHelpLink: string =\n  'https://backstage.io/docs/features/software-catalog/descriptor-format#kind-component';\nexport const asComponentEntities = (entities: Entity[]): ComponentEntity[] =>\n  entities as ComponentEntity[];\n\nexport const resourceEntityColumns: TableColumn<ResourceEntity>[] = [\n  EntityTable.columns.createEntityRefColumn({ defaultKind: 'resource' }),\n  EntityTable.columns.createOwnerColumn(),\n  EntityTable.columns.createSpecTypeColumn(),\n  EntityTable.columns.createSpecLifecycleColumn(),\n  EntityTable.columns.createMetadataDescriptionColumn(),\n];\nexport const resourceEntityHelpLink: string =\n  'https://backstage.io/docs/features/software-catalog/descriptor-format#kind-resource';\nexport const asResourceEntities = (entities: Entity[]): ResourceEntity[] =>\n  entities as ResourceEntity[];\n\nexport const systemEntityColumns: TableColumn<SystemEntity>[] = [\n  EntityTable.columns.createEntityRefColumn({ defaultKind: 'system' }),\n  EntityTable.columns.createOwnerColumn(),\n  EntityTable.columns.createMetadataDescriptionColumn(),\n];\nexport const systemEntityHelpLink: string =\n  'https://backstage.io/docs/features/software-catalog/descriptor-format#kind-system';\nexport const asSystemEntities = (entities: Entity[]): SystemEntity[] =>\n  entities as SystemEntity[];\n"],"sourceRoot":""}